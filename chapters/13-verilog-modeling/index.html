
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Advanced Verilog constructs for modeling digital systems at various levels of abstraction">
      
      
        <meta name="author" content="Dan McCreary">
      
      
        <link rel="canonical" href="https://dmccreary.github.io/digital-electronics/chapters/13-verilog-modeling/">
      
      
        <link rel="prev" href="../12-verilog-hdl-fundamentals/quiz/">
      
      
        <link rel="next" href="quiz/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.43">
    
    
      
        <title>Verilog Behavioral and Structural Modeling - Digital Electronics</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#verilog-behavioral-and-structural-modeling" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Digital Electronics" class="md-header__button md-logo" aria-label="Digital Electronics" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Digital Electronics
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Verilog Behavioral and Structural Modeling
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/dmccreary/digital-electronics" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub Repo
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Digital Electronics" class="md-nav__button md-logo" aria-label="Digital Electronics" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Digital Electronics
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/dmccreary/digital-electronics" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub Repo
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../course-description/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Course Description
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Chapters
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Chapters
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../01-number-systems-binary-arithmetic/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    1. Number Systems
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../02-boolean-algebra-fundamentals/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    2. Boolean Algebra
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../03-logic-gates-digital-signals/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    3. Logic Gates
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../04-combinational-logic-design/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    4. Combinational Design
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../05-logic-minimization-kmaps/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    5. K-Maps
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../06-combinational-building-blocks/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    6. Building Blocks
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../07-intro-sequential-logic/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    7. Sequential Logic
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../08-flip-flops-timing/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    8. Flip-Flops
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../09-fsm-fundamentals/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    9. FSM Fundamentals
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../10-fsm-design-applications/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    10. FSM Applications
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../11-registers-counters-datapath/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    11. Registers & Counters
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../12-verilog-hdl-fundamentals/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    12. Verilog Basics
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_14" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="./" class="md-nav__link md-nav__link--active">
              
  
  <span class="md-ellipsis">
    13. Verilog Modeling
  </span>
  

            </a>
            
              
              <label class="md-nav__link md-nav__link--active" for="__nav_4_14" id="__nav_4_14_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_14_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_14">
            <span class="md-nav__icon md-icon"></span>
            13. Verilog Modeling
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="quiz/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quiz
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../14-testbenches-simulation/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    14. Testbenches
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../15-fpga-lab-skills/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    15. FPGA & Lab
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../lessons/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Lessons
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../sims/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Sims
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../learning-graph/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Learning Graph
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../prompts/equation-standards/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Prompts
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Glossary
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../license/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how-we-built-this-site/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How we built this site
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contact/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contact
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#concepts-covered" class="md-nav__link">
    <span class="md-ellipsis">
      Concepts Covered
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction-the-art-of-describing-hardware" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction: The Art of Describing Hardware
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-always-block-where-procedural-meets-parallel" class="md-nav__link">
    <span class="md-ellipsis">
      The Always Block: Where Procedural Meets Parallel
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The Always Block: Where Procedural Meets Parallel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#diagram-always-block-execution-model" class="md-nav__link">
    <span class="md-ellipsis">
      Diagram: Always Block Execution Model
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sensitivity-list-the-trigger-conditions" class="md-nav__link">
    <span class="md-ellipsis">
      Sensitivity List: The Trigger Conditions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#posedge-and-negedge-catching-the-edge" class="md-nav__link">
    <span class="md-ellipsis">
      Posedge and Negedge: Catching the Edge
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Posedge and Negedge: Catching the Edge">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#diagram-edge-detection-visualizer" class="md-nav__link">
    <span class="md-ellipsis">
      Diagram: Edge Detection Visualizer
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#blocking-assignment-sequential-within-the-block" class="md-nav__link">
    <span class="md-ellipsis">
      Blocking Assignment: Sequential Within the Block
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#non-blocking-assignment-parallel-updates" class="md-nav__link">
    <span class="md-ellipsis">
      Non-Blocking Assignment: Parallel Updates
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Non-Blocking Assignment: Parallel Updates">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#diagram-blocking-vs-non-blocking-comparison" class="md-nav__link">
    <span class="md-ellipsis">
      Diagram: Blocking vs Non-Blocking Comparison
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#if-else-in-verilog-decision-making" class="md-nav__link">
    <span class="md-ellipsis">
      If-Else in Verilog: Decision Making
    </span>
  </a>
  
    <nav class="md-nav" aria-label="If-Else in Verilog: Decision Making">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#diagram-if-else-priority-chain" class="md-nav__link">
    <span class="md-ellipsis">
      Diagram: If-Else Priority Chain
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#case-statement-multi-way-selection" class="md-nav__link">
    <span class="md-ellipsis">
      Case Statement: Multi-Way Selection
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Case Statement: Multi-Way Selection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#diagram-case-statement-decoder" class="md-nav__link">
    <span class="md-ellipsis">
      Diagram: Case Statement Decoder
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#combinational-always-blocks" class="md-nav__link">
    <span class="md-ellipsis">
      Combinational Always Blocks
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sequential-always-blocks" class="md-nav__link">
    <span class="md-ellipsis">
      Sequential Always Blocks
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sequential Always Blocks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#diagram-sequential-always-timing" class="md-nav__link">
    <span class="md-ellipsis">
      Diagram: Sequential Always Timing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#structural-modeling-building-from-components" class="md-nav__link">
    <span class="md-ellipsis">
      Structural Modeling: Building from Components
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#behavioral-modeling-describing-what-not-how" class="md-nav__link">
    <span class="md-ellipsis">
      Behavioral Modeling: Describing What, Not How
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Behavioral Modeling: Describing What, Not How">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#diagram-structural-vs-behavioral-comparison" class="md-nav__link">
    <span class="md-ellipsis">
      Diagram: Structural vs Behavioral Comparison
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gate-level-verilog-the-primitive-foundation" class="md-nav__link">
    <span class="md-ellipsis">
      Gate-Level Verilog: The Primitive Foundation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rtl-verilog-the-sweet-spot" class="md-nav__link">
    <span class="md-ellipsis">
      RTL Verilog: The Sweet Spot
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RTL Verilog: The Sweet Spot">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#diagram-rtl-datapath-visualization" class="md-nav__link">
    <span class="md-ellipsis">
      Diagram: RTL Datapath Visualization
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hierarchical-design-divide-and-conquer" class="md-nav__link">
    <span class="md-ellipsis">
      Hierarchical Design: Divide and Conquer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Hierarchical Design: Divide and Conquer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#diagram-hierarchical-design-explorer" class="md-nav__link">
    <span class="md-ellipsis">
      Diagram: Hierarchical Design Explorer
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#putting-it-all-together-a-complete-example" class="md-nav__link">
    <span class="md-ellipsis">
      Putting It All Together: A Complete Example
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary-and-key-takeaways" class="md-nav__link">
    <span class="md-ellipsis">
      Summary and Key Takeaways
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#practice-problems" class="md-nav__link">
    <span class="md-ellipsis">
      Practice Problems
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="verilog-behavioral-and-structural-modeling">Verilog Behavioral and Structural Modeling</h1>
<h2 id="summary">Summary</h2>
<p>This chapter covers advanced Verilog constructs for modeling digital systems at various levels of abstraction. Students will master the always block and sensitivity lists, understand the critical difference between blocking and non-blocking assignments, use if-else and case statements for decision logic, and write combinational always blocks (with @(*)) and sequential always blocks (with @(posedge clk)). The chapter covers three modeling styles: structural modeling using gate primitives and module instantiation, behavioral modeling using procedural statements, and gate-level Verilog. RTL Verilog and hierarchical design principles complete the coverage.</p>
<h2 id="concepts-covered">Concepts Covered</h2>
<p>This chapter covers the following 15 concepts from the learning graph:</p>
<ol>
<li>Always Block</li>
<li>Sensitivity List</li>
<li>Blocking Assignment</li>
<li>Non-Blocking Assignment</li>
<li>If-Else in Verilog</li>
<li>Case Statement</li>
<li>Combinational Always</li>
<li>Sequential Always</li>
<li>Posedge Keyword</li>
<li>Negedge Keyword</li>
<li>Structural Modeling</li>
<li>Behavioral Modeling</li>
<li>Gate-Level Verilog</li>
<li>RTL Verilog</li>
<li>Hierarchical Design</li>
</ol>
<h2 id="prerequisites">Prerequisites</h2>
<p>This chapter builds on concepts from:</p>
<ul>
<li><a href="../12-verilog-hdl-fundamentals/">Chapter 12: Verilog HDL Fundamentals</a></li>
</ul>
<hr />
<h2 id="introduction-the-art-of-describing-hardware">Introduction: The Art of Describing Hardware</h2>
<p>Welcome back, intrepid circuit designer! In Chapter 12, you learned to speak Verilog's basic vocabulary—modules, ports, wires, and continuous assignments. Now it's time to become fluent. This chapter is where Verilog transforms from a simple gate-connection language into a powerful tool for describing <em>behavior</em>—what your circuit does, not just how it's wired.</p>
<p>Think of it like the difference between describing a car by listing every bolt and wire versus describing it by saying "when you press the gas pedal, the car accelerates." Both descriptions are valid, but one is a lot easier to write and understand. That's the power of behavioral modeling.</p>
<p>But here's the plot twist: Verilog lets you work at <em>multiple levels of abstraction</em> simultaneously. You can describe some parts of your design behaviorally ("when the counter reaches 10, reset it"), some parts structurally ("connect this AND gate to that OR gate"), and some parts at the gate level ("use a NAND gate here"). It's like being able to zoom in and out of a map—sometimes you need to see the whole country, sometimes you need street-level detail.</p>
<p>By the end of this chapter, you'll understand:</p>
<ul>
<li>How <code>always</code> blocks let you write procedural hardware descriptions</li>
<li>The crucial (and frequently misunderstood) difference between <code>=</code> and <code>&lt;=</code></li>
<li>When to use <code>if-else</code> versus <code>case</code> statements</li>
<li>How to model both combinational and sequential logic behaviorally</li>
<li>The three abstraction levels: gate-level, RTL, and behavioral</li>
</ul>
<p>Ready to level up your Verilog game? Let's dive in!</p>
<h2 id="the-always-block-where-procedural-meets-parallel">The Always Block: Where Procedural Meets Parallel</h2>
<p>The <strong>Always Block</strong> is the heart of procedural Verilog. While <code>assign</code> statements describe continuous, always-active connections (like physical wires), <code>always</code> blocks describe <em>processes</em> that respond to specific events.</p>
<p>Here's the basic syntax:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="n">sensitivity_list</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="c1">// procedural statements go here</span>
<span class="k">end</span>
</code></pre></div></td></tr></table></div>
<p>The <code>always</code> block is called "always" because it runs <em>forever</em>—it's not a one-time thing like an <code>initial</code> block. Every time the conditions in the sensitivity list are met, the block executes again.</p>
<p>Think of an <code>always</code> block like a watchful guardian. It sits there monitoring certain signals, and whenever those signals change in the specified way, it springs into action. Then it goes back to watching. Forever. (That's some serious dedication!)</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// This always block responds to ANY change in a or b</span>
<span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="n">a</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="k">end</span>

<span class="c1">// This always block responds ONLY to the rising edge of clk</span>
<span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="k">posedge</span><span class="w"> </span><span class="n">clk</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="n">q</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">d</span><span class="p">;</span>
<span class="k">end</span>
</code></pre></div></td></tr></table></div>
<p>Key properties of <code>always</code> blocks:</p>
<ul>
<li><strong>Multiple always blocks run concurrently</strong>: Just like multiple <code>assign</code> statements, multiple <code>always</code> blocks all exist at once, running in parallel</li>
<li><strong>Statements inside execute sequentially</strong>: Within a single <code>always</code> block, statements execute top-to-bottom (like software)</li>
<li><strong>Can only assign to <code>reg</code> types</strong>: The left side of assignments in <code>always</code> blocks must be declared as <code>reg</code></li>
<li><strong>Must have a sensitivity list</strong>: This tells the simulator (and synthesizer) when to evaluate the block</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">The Order Paradox</p>
<p>Here's what trips up beginners: statements <em>within</em> an always block are sequential, but <em>between</em> always blocks, everything is concurrent. It's like having multiple short programs that all run at the same time, but each program internally executes line by line.</p>
</div>
<h4 id="diagram-always-block-execution-model">Diagram: Always Block Execution Model</h4>
<iframe src="../../sims/always-block-execution/main.html" width="100%" height="500px" scrolling="no"></iframe>

<details>
<summary>Always Block Execution Model</summary>
<p>Type: microsim</p>
<p>Bloom Level: Understand (L2)
Bloom Verb: Explain</p>
<p>Learning Objective: Students will be able to explain how always blocks execute in response to sensitivity list triggers, understanding that multiple always blocks run concurrently while statements within each block execute sequentially.</p>
<p>Instructional Rationale: Animated visualization showing multiple always blocks responding to signal changes, with internal sequential execution highlighted, clarifies the concurrent-yet-sequential nature of procedural Verilog.</p>
<p>Canvas Layout:</p>
<ul>
<li>Left panel: Multiple always blocks shown as separate "process boxes"</li>
<li>Center: Signal waveforms triggering block execution</li>
<li>Right panel: Execution trace showing sequential steps within active block</li>
<li>Bottom: Input controls for triggering signals</li>
</ul>
<p>Interactive Elements:</p>
<ul>
<li>Toggle buttons for input signals</li>
<li>Clock pulse button</li>
<li>Highlight which always block is currently active</li>
<li>Step-through mode showing sequential execution within block</li>
<li>Concurrent execution indicator for multiple blocks</li>
<li>Reset button</li>
</ul>
<p>Data Visibility:</p>
<ul>
<li>Current values of all signals</li>
<li>Which sensitivity list conditions are met</li>
<li>Execution order within active blocks</li>
<li>Parallel execution between blocks</li>
<li>Output values updating</li>
</ul>
<p>Visual Style:</p>
<ul>
<li>Always blocks as colored process rectangles</li>
<li>Sensitivity list as "trigger condition" above each block</li>
<li>Internal statements as numbered steps</li>
<li>Active block highlighted with glow effect</li>
<li>Waveform display showing signal changes</li>
</ul>
<p>Implementation: p5.js with multi-process simulation engine</p>
</details>
<h2 id="sensitivity-list-the-trigger-conditions">Sensitivity List: The Trigger Conditions</h2>
<p>The <strong>Sensitivity List</strong> specifies which signal changes cause an <code>always</code> block to execute. It's the "wake-up call" for the block—without the right sensitivity list, your block might never run, or might run at the wrong times.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Old-style: explicit signal list</span>
<span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="n">a</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">c</span><span class="p">;</span>
<span class="k">end</span>

<span class="c1">// Verilog-2001 style: automatic sensitivity list</span>
<span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">c</span><span class="p">;</span>
<span class="k">end</span>

<span class="c1">// Edge-sensitive: responds to clock edges</span>
<span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="k">posedge</span><span class="w"> </span><span class="n">clk</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="n">q</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">d</span><span class="p">;</span>
<span class="k">end</span>
</code></pre></div></td></tr></table></div>
<p>The <code>@(*)</code> syntax (pronounced "at star" or "at splat") is a Verilog-2001 feature that automatically includes all signals read within the block. It's a lifesaver—it prevents the common bug of forgetting a signal in the sensitivity list.</p>
<p>There are two fundamentally different types of sensitivity lists:</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Syntax</th>
<th>Use Case</th>
<th>Synthesizes To</th>
</tr>
</thead>
<tbody>
<tr>
<td>Level-sensitive</td>
<td><code>@(a or b)</code> or <code>@(*)</code></td>
<td>Combinational logic</td>
<td>Gates/muxes</td>
</tr>
<tr>
<td>Edge-sensitive</td>
<td><code>@(posedge clk)</code></td>
<td>Sequential logic</td>
<td>Flip-flops</td>
</tr>
</tbody>
</table>
<div class="admonition tip">
<p class="admonition-title">Always Use @(*) for Combinational Logic</p>
<p>For combinational <code>always</code> blocks, <em>always</em> use <code>@(*)</code>. It automatically includes all the right signals and prevents subtle bugs. The explicit <code>@(a or b or c)</code> style is a relic from older Verilog and invites mistakes.</p>
</div>
<p>What happens if your sensitivity list is incomplete? Consider this buggy code:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// BUG: Missing &#39;b&#39; in sensitivity list!</span>
<span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="k">end</span>
</code></pre></div></td></tr></table></div>
<p>In simulation, <code>y</code> won't update when <code>b</code> changes (only when <code>a</code> changes). But synthesis might create correct hardware anyway, leading to a mismatch between simulation and hardware. This is one of the most frustrating bugs to track down.</p>
<p>The golden rule: <strong>simulation behavior should match synthesis behavior</strong>. Using <code>@(*)</code> ensures this.</p>
<h2 id="posedge-and-negedge-catching-the-edge">Posedge and Negedge: Catching the Edge</h2>
<p><strong>Posedge</strong> (positive edge) and <strong>Negedge</strong> (negative edge) are keywords that specify edge-triggered sensitivity—the block executes only when a signal transitions.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Trigger on rising edge of clk</span>
<span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="k">posedge</span><span class="w"> </span><span class="n">clk</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="n">q</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">d</span><span class="p">;</span>
<span class="k">end</span>

<span class="c1">// Trigger on falling edge of clk</span>
<span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="k">negedge</span><span class="w"> </span><span class="n">clk</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="n">q</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">d</span><span class="p">;</span>
<span class="k">end</span>

<span class="c1">// Trigger on rising clk OR rising reset (async reset)</span>
<span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="k">posedge</span><span class="w"> </span><span class="n">clk</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">posedge</span><span class="w"> </span><span class="n">reset</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">reset</span><span class="p">)</span>
<span class="w">        </span><span class="n">q</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mh">1</span><span class="mb">&#39;b0</span><span class="p">;</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="n">q</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">d</span><span class="p">;</span>
<span class="k">end</span>
</code></pre></div></td></tr></table></div>
<p>The difference between level-sensitive and edge-sensitive is crucial:</p>
<table>
<thead>
<tr>
<th>Sensitivity</th>
<th>When It Triggers</th>
<th>Hardware Result</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>@(a)</code></td>
<td>Any time <code>a</code> changes</td>
<td>Combinational (transparent)</td>
</tr>
<tr>
<td><code>@(posedge a)</code></td>
<td>Only when <code>a</code> goes 0→1</td>
<td>Sequential (flip-flop)</td>
</tr>
<tr>
<td><code>@(negedge a)</code></td>
<td>Only when <code>a</code> goes 1→0</td>
<td>Sequential (flip-flop)</td>
</tr>
</tbody>
</table>
<h4 id="diagram-edge-detection-visualizer">Diagram: Edge Detection Visualizer</h4>
<iframe src="../../sims/edge-detection/main.html" width="100%" height="450px" scrolling="no"></iframe>

<details>
<summary>Edge Detection Visualizer</summary>
<p>Type: microsim</p>
<p>Bloom Level: Apply (L3)
Bloom Verb: Demonstrate</p>
<p>Learning Objective: Students will be able to demonstrate the difference between posedge, negedge, and level-sensitive triggering by observing when outputs update in response to input transitions.</p>
<p>Instructional Rationale: Interactive waveform showing exactly when each type of sensitivity triggers makes the edge vs. level distinction viscerally clear.</p>
<p>Canvas Layout:</p>
<ul>
<li>Top: Input signal waveform with manual control</li>
<li>Middle: Three parallel circuits (level, posedge, negedge)</li>
<li>Bottom: Output waveforms for each circuit</li>
<li>Side: Edge detection indicators</li>
</ul>
<p>Interactive Elements:</p>
<ul>
<li>Toggle button for input signal</li>
<li>Slow-motion transition mode</li>
<li>Highlight exact moment of edge detection</li>
<li>Count of edge triggers</li>
<li>Comparison mode showing all three simultaneously</li>
</ul>
<p>Data Visibility:</p>
<ul>
<li>Input signal value and transitions</li>
<li>When each sensitivity type triggers</li>
<li>Output values for each type</li>
<li>Edge detection moments marked</li>
<li>Timing relationship between input and output</li>
</ul>
<p>Visual Style:</p>
<ul>
<li>Clean waveform display</li>
<li>Edge markers as vertical lines</li>
<li>Trigger moments highlighted with flash</li>
<li>Color coding (blue=level, green=posedge, red=negedge)</li>
<li>Timing cursor for exploration</li>
</ul>
<p>Implementation: p5.js with waveform animation</p>
</details>
<p>Think of <code>posedge</code> like a turnstile that only counts when you push through it. It doesn't matter if you're standing there pushing constantly—it only registers the moment of the push. The clock signal might be high for millions of nanoseconds, but the flip-flop only captures data at that one instant of the rising edge.</p>
<p>Common edge-sensitive patterns:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Synchronous reset (reset checked at clock edge)</span>
<span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="k">posedge</span><span class="w"> </span><span class="n">clk</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">reset</span><span class="p">)</span>
<span class="w">        </span><span class="n">count</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mh">4</span><span class="mb">&#39;b0</span><span class="p">;</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="n">count</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mh">1</span><span class="p">;</span>
<span class="k">end</span>

<span class="c1">// Asynchronous reset (reset is in sensitivity list)</span>
<span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="k">posedge</span><span class="w"> </span><span class="n">clk</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">posedge</span><span class="w"> </span><span class="n">reset</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">reset</span><span class="p">)</span>
<span class="w">        </span><span class="n">count</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mh">4</span><span class="mb">&#39;b0</span><span class="p">;</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="n">count</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mh">1</span><span class="p">;</span>
<span class="k">end</span>
</code></pre></div></td></tr></table></div>
<div class="admonition note">
<p class="admonition-title">Synthesis Implications</p>
<p>When you use <code>posedge</code> or <code>negedge</code>, you're telling the synthesizer to create flip-flops. This is the only way to create sequential (memory) elements behaviorally. Level-sensitive always blocks synthesize to combinational logic.</p>
</div>
<h2 id="blocking-assignment-sequential-within-the-block">Blocking Assignment: Sequential Within the Block</h2>
<p><strong>Blocking Assignment</strong> uses the <code>=</code> operator and executes sequentially within an <code>always</code> block. The assignment "blocks" execution of the next statement until it completes.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w">      </span><span class="c1">// Step 1: compute a+b, store in temp</span>
<span class="w">    </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">c</span><span class="p">;</span><span class="w"> </span><span class="c1">// Step 2: use temp to compute result</span>
<span class="k">end</span>
</code></pre></div></td></tr></table></div>
<p>Think of blocking assignment like a cooking recipe: "First crack the eggs, <em>then</em> add flour." You can't add flour before the eggs are cracked. Each step must complete before the next begins.</p>
<p>Key characteristics of blocking assignments:</p>
<ul>
<li><strong>Immediate update</strong>: The variable gets its new value immediately</li>
<li><strong>Sequential execution</strong>: Later statements see the new value</li>
<li><strong>Order matters</strong>: Swapping lines changes behavior</li>
<li><strong>Use for combinational logic</strong>: Appropriate in <code>@(*)</code> blocks</li>
</ul>
<p>Example showing order dependence:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Version A</span>
<span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<span class="w">    </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w">  </span><span class="c1">// result = a + b</span>
<span class="k">end</span>

<span class="c1">// Version B (lines swapped - DIFFERENT BEHAVIOR!)</span>
<span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w">  </span><span class="c1">// result = OLD temp + b (BUG!)</span>
<span class="w">    </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<span class="k">end</span>
</code></pre></div></td></tr></table></div>
<p>In Version B, <code>result</code> uses the <em>old</em> value of <code>temp</code> because the assignment to <code>temp</code> hasn't happened yet. This is why order matters with blocking assignments.</p>
<div class="admonition warning">
<p class="admonition-title">Blocking + Clocked = Trouble</p>
<p>Using blocking assignments (<code>=</code>) in clocked always blocks is legal but dangerous. It can create race conditions when multiple always blocks interact. The safe rule: <strong>use <code>=</code> only in combinational blocks, use <code>&lt;=</code> in sequential blocks.</strong></p>
</div>
<h2 id="non-blocking-assignment-parallel-updates">Non-Blocking Assignment: Parallel Updates</h2>
<p><strong>Non-Blocking Assignment</strong> uses the <code>&lt;=</code> operator and schedules updates to happen simultaneously at the end of the current simulation time step. All right-hand sides are evaluated first, then all left-hand sides are updated together.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="k">posedge</span><span class="w"> </span><span class="n">clk</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w">  </span><span class="c1">// At clock edge: capture b&#39;s value for a</span>
<span class="w">    </span><span class="n">b</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">a</span><span class="p">;</span><span class="w">  </span><span class="c1">// At clock edge: capture a&#39;s value for b (OLD a!)</span>
<span class="k">end</span>
</code></pre></div></td></tr></table></div>
<p>This is the magic of non-blocking: the two assignments above <em>swap</em> the values of <code>a</code> and <code>b</code>! Both right-hand sides are evaluated with the <em>current</em> values before either assignment takes effect.</p>
<p>Think of non-blocking assignment like a synchronized dance move. Everyone reads their instruction at the same moment, then everyone moves at the same moment. Nobody sees anyone else's new position until the music stops.</p>
<h4 id="diagram-blocking-vs-non-blocking-comparison">Diagram: Blocking vs Non-Blocking Comparison</h4>
<iframe src="../../sims/blocking-vs-nonblocking/main.html" width="100%" height="550px" scrolling="no"></iframe>

<details>
<summary>Blocking vs Non-Blocking Assignment Comparison</summary>
<p>Type: microsim</p>
<p>Bloom Level: Analyze (L4)
Bloom Verb: Differentiate</p>
<p>Learning Objective: Students will be able to differentiate between blocking and non-blocking assignment behavior by observing how intermediate values propagate (or don't) within always blocks.</p>
<p>Instructional Rationale: Side-by-side execution of identical code with = vs &lt;= reveals the critical behavioral difference, especially for swap patterns.</p>
<p>Canvas Layout:</p>
<ul>
<li>Left panel: Blocking assignment example with step-through</li>
<li>Right panel: Non-blocking assignment example with step-through</li>
<li>Center: Value comparison showing differences</li>
<li>Bottom: Simulation controls</li>
</ul>
<p>Interactive Elements:</p>
<ul>
<li>Clock trigger button</li>
<li>Step-through execution mode</li>
<li>Highlight current evaluation phase</li>
<li>Show scheduled updates for non-blocking</li>
<li>Value history display</li>
<li>Reset button</li>
</ul>
<p>Data Visibility:</p>
<ul>
<li>Current values of all variables</li>
<li>Intermediate values during blocking execution</li>
<li>Scheduled updates for non-blocking</li>
<li>Final values comparison</li>
<li>Execution phase indicator (evaluate vs. update)</li>
</ul>
<p>Visual Style:</p>
<ul>
<li>Two-column comparison layout</li>
<li>Variable values as prominent displays</li>
<li>Arrows showing value flow</li>
<li>Phase indicators (Read, Write, Complete)</li>
<li>Color-coded differences</li>
</ul>
<p>Implementation: p5.js with dual simulation engines</p>
</details>
<p>Here's the critical comparison:</p>
<table>
<thead>
<tr>
<th>Aspect</th>
<th>Blocking (<code>=</code>)</th>
<th>Non-Blocking (<code>&lt;=</code>)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Execution</td>
<td>Sequential within block</td>
<td>Parallel update at end</td>
</tr>
<tr>
<td>Intermediate values</td>
<td>Visible to later statements</td>
<td>Not visible (old values used)</td>
</tr>
<tr>
<td>Order dependence</td>
<td>Yes, order matters</td>
<td>No, order doesn't matter</td>
</tr>
<tr>
<td>Best for</td>
<td>Combinational logic</td>
<td>Sequential logic</td>
</tr>
<tr>
<td>Swap behavior</td>
<td>No swap (need temp)</td>
<td>Natural swap</td>
</tr>
</tbody>
</table>
<p>The classic swap example:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Using blocking (DOESN&#39;T swap!)</span>
<span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="k">posedge</span><span class="w"> </span><span class="n">clk</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w">   </span><span class="c1">// a becomes b</span>
<span class="w">    </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">;</span><span class="w">   </span><span class="c1">// b becomes a, but a is already b, so b stays b!</span>
<span class="k">end</span>

<span class="c1">// Using non-blocking (DOES swap!)</span>
<span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="k">posedge</span><span class="w"> </span><span class="n">clk</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w">  </span><span class="c1">// Schedule: a will become b&#39;s current value</span>
<span class="w">    </span><span class="n">b</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">a</span><span class="p">;</span><span class="w">  </span><span class="c1">// Schedule: b will become a&#39;s current value (original a)</span>
<span class="k">end</span><span class="w">        </span><span class="c1">// Now both updates happen: SWAP!</span>
</code></pre></div></td></tr></table></div>
<div class="admonition tip">
<p class="admonition-title">The Golden Rule of Assignments</p>
<ul>
<li>Use <code>=</code> (blocking) in combinational always blocks (<code>@(*)</code>)</li>
<li>Use <code>&lt;=</code> (non-blocking) in sequential always blocks (<code>@(posedge clk)</code>)</li>
<li>Never mix them in the same always block</li>
<li>When in doubt, use <code>&lt;=</code> for sequential logic</li>
</ul>
</div>
<h2 id="if-else-in-verilog-decision-making">If-Else in Verilog: Decision Making</h2>
<p><strong>If-Else in Verilog</strong> provides conditional execution within always blocks, just like in software programming languages. The syntax is nearly identical to C:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">condition1</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">        </span><span class="c1">// statements when condition1 is true</span>
<span class="w">    </span><span class="k">end</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">condition2</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">        </span><span class="c1">// statements when condition2 is true</span>
<span class="w">    </span><span class="k">end</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">begin</span>
<span class="w">        </span><span class="c1">// statements when all conditions are false</span>
<span class="w">    </span><span class="k">end</span>
<span class="k">end</span>
</code></pre></div></td></tr></table></div>
<p>The <code>begin</code>...<code>end</code> keywords are like curly braces in C—they group multiple statements. For single statements, they're optional but recommended for clarity.</p>
<p>Important rules for synthesizable if-else:</p>
<ol>
<li><strong>Cover all cases</strong>: Always include a final <code>else</code> to avoid creating latches</li>
<li><strong>Priority encoding</strong>: Conditions are checked in order; first match wins</li>
<li><strong>Mutually exclusive is efficient</strong>: Non-overlapping conditions synthesize better</li>
</ol>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// 4-to-1 multiplexer using if-else</span>
<span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">sel</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mh">2</span><span class="mb">&#39;b00</span><span class="p">)</span>
<span class="w">        </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">sel</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mh">2</span><span class="mb">&#39;b01</span><span class="p">)</span>
<span class="w">        </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">sel</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mh">2</span><span class="mb">&#39;b10</span><span class="p">)</span>
<span class="w">        </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="p">;</span>
<span class="w">    </span><span class="k">else</span><span class="w">  </span><span class="c1">// sel == 2&#39;b11</span>
<span class="w">        </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="p">;</span>
<span class="k">end</span>
</code></pre></div></td></tr></table></div>
<h4 id="diagram-if-else-priority-chain">Diagram: If-Else Priority Chain</h4>
<iframe src="../../sims/if-else-priority/main.html" width="100%" height="450px" scrolling="no"></iframe>

<details>
<summary>If-Else Priority Chain Visualization</summary>
<p>Type: microsim</p>
<p>Bloom Level: Apply (L3)
Bloom Verb: Demonstrate</p>
<p>Learning Objective: Students will be able to demonstrate how if-else chains create priority-encoded logic by tracing through condition evaluation order.</p>
<p>Instructional Rationale: Visual flow through if-else conditions with highlighting of which branch is taken reinforces the priority nature of cascaded conditions.</p>
<p>Canvas Layout:</p>
<ul>
<li>Left: Condition evaluation flow chart</li>
<li>Center: Current condition being tested (highlighted)</li>
<li>Right: Output value based on selected branch</li>
<li>Bottom: Input controls for conditions</li>
</ul>
<p>Interactive Elements:</p>
<ul>
<li>Toggle buttons for each condition input</li>
<li>Step-through mode showing evaluation order</li>
<li>Highlight path taken through chain</li>
<li>Show synthesized priority encoder</li>
<li>Multiple examples (mux, priority encoder, etc.)</li>
</ul>
<p>Data Visibility:</p>
<ul>
<li>All condition values</li>
<li>Evaluation order (1st, 2nd, 3rd...)</li>
<li>Which condition matched first</li>
<li>Output value</li>
<li>Path through decision tree</li>
</ul>
<p>Visual Style:</p>
<ul>
<li>Decision tree/flowchart layout</li>
<li>Arrows showing evaluation flow</li>
<li>Green for matched condition</li>
<li>Gray for skipped conditions</li>
<li>Output box at each terminal</li>
</ul>
<p>Implementation: p5.js with decision tree animation</p>
</details>
<p>The hardware synthesized from if-else is a <strong>priority multiplexer chain</strong>. Early conditions have higher priority—if multiple conditions could be true, the first one wins:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Priority encoder: first condition wins</span>
<span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">req3</span><span class="p">)</span><span class="w">           </span><span class="c1">// Highest priority</span>
<span class="w">        </span><span class="n">grant</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">4</span><span class="mb">&#39;b1000</span><span class="p">;</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">req2</span><span class="p">)</span>
<span class="w">        </span><span class="n">grant</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">4</span><span class="mb">&#39;b0100</span><span class="p">;</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">req1</span><span class="p">)</span>
<span class="w">        </span><span class="n">grant</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">4</span><span class="mb">&#39;b0010</span><span class="p">;</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">req0</span><span class="p">)</span><span class="w">      </span><span class="c1">// Lowest priority</span>
<span class="w">        </span><span class="n">grant</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">4</span><span class="mb">&#39;b0001</span><span class="p">;</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="n">grant</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">4</span><span class="mb">&#39;b0000</span><span class="p">;</span>
<span class="k">end</span>
</code></pre></div></td></tr></table></div>
<div class="admonition warning">
<p class="admonition-title">The Latch Trap</p>
<p>If you don't cover all possible input combinations with assignments, synthesis creates a <em>latch</em>—a level-sensitive memory element that holds the old value. This is almost always a bug:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// BUG: Creates a latch!</span>
<span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">enable</span><span class="p">)</span>
<span class="w">        </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">data</span><span class="p">;</span><span class="w">  </span><span class="c1">// What happens when enable=0? Latch!</span>
<span class="k">end</span>

<span class="c1">// FIXED: Cover all cases</span>
<span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">enable</span><span class="p">)</span>
<span class="w">        </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">data</span><span class="p">;</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">1</span><span class="mb">&#39;b0</span><span class="p">;</span><span class="w">  </span><span class="c1">// Explicit default</span>
<span class="k">end</span>
</code></pre></div></td></tr></table></div>
</div>
<h2 id="case-statement-multi-way-selection">Case Statement: Multi-Way Selection</h2>
<p>The <strong>Case Statement</strong> provides cleaner multi-way selection than long if-else chains, especially when checking one expression against multiple values:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="p">(</span><span class="n">sel</span><span class="p">)</span>
<span class="w">        </span><span class="mh">2</span><span class="mb">&#39;b00</span><span class="o">:</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<span class="w">        </span><span class="mh">2</span><span class="mb">&#39;b01</span><span class="o">:</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="w">        </span><span class="mh">2</span><span class="mb">&#39;b10</span><span class="o">:</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="p">;</span>
<span class="w">        </span><span class="mh">2</span><span class="mb">&#39;b11</span><span class="o">:</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="p">;</span>
<span class="w">        </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">1</span><span class="mb">&#39;b0</span><span class="p">;</span>
<span class="w">    </span><span class="k">endcase</span>
<span class="k">end</span>
</code></pre></div></td></tr></table></div>
<p>Case statements are perfect for:</p>
<ul>
<li>Multiplexers</li>
<li>Decoders</li>
<li>State machine next-state logic</li>
<li>ALU operation selection</li>
<li>Instruction decoders</li>
</ul>
<p>Verilog provides three case variants:</p>
<table>
<thead>
<tr>
<th>Variant</th>
<th>Syntax</th>
<th>X and Z handling</th>
</tr>
</thead>
<tbody>
<tr>
<td>Standard</td>
<td><code>case</code></td>
<td>X/Z match literally</td>
</tr>
<tr>
<td>Casez</td>
<td><code>casez</code></td>
<td>Z (or ?) treated as don't-care</td>
</tr>
<tr>
<td>Casex</td>
<td><code>casex</code></td>
<td>Both X and Z treated as don't-care</td>
</tr>
</tbody>
</table>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Using casez for don&#39;t-care bits</span>
<span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="k">casez</span><span class="w"> </span><span class="p">(</span><span class="n">opcode</span><span class="p">)</span>
<span class="w">        </span><span class="mh">4</span><span class="mb">&#39;b0</span><span class="o">???:</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w">    </span><span class="c1">// Any opcode starting with 0</span>
<span class="w">        </span><span class="mh">4</span><span class="mb">&#39;b10</span><span class="o">??:</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w">    </span><span class="c1">// Opcodes 10xx</span>
<span class="w">        </span><span class="mh">4</span><span class="mb">&#39;b110</span><span class="o">?:</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w">    </span><span class="c1">// Opcodes 110x</span>
<span class="w">        </span><span class="mh">4</span><span class="mb">&#39;b1110</span><span class="o">:</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w">    </span><span class="c1">// Opcode 1110 exactly</span>
<span class="w">        </span><span class="mh">4</span><span class="mb">&#39;b1111</span><span class="o">:</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">a</span><span class="p">;</span><span class="w">       </span><span class="c1">// Opcode 1111 exactly</span>
<span class="w">        </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">8</span><span class="mb">&#39;b0</span><span class="p">;</span>
<span class="w">    </span><span class="k">endcase</span>
<span class="k">end</span>
</code></pre></div></td></tr></table></div>
<div class="admonition tip">
<p class="admonition-title">Always Include default</p>
<p>Even if you think you've covered all cases, include a <code>default</code> clause. It prevents latches if you miscounted, documents your intent, and handles unexpected X or Z values in simulation.</p>
</div>
<h4 id="diagram-case-statement-decoder">Diagram: Case Statement Decoder</h4>
<iframe src="../../sims/case-statement-decoder/main.html" width="100%" height="500px" scrolling="no"></iframe>

<details>
<summary>Case Statement Decoder Visualization</summary>
<p>Type: microsim</p>
<p>Bloom Level: Apply (L3)
Bloom Verb: Use</p>
<p>Learning Objective: Students will be able to use case statements to implement decoders and multiplexers by observing the direct mapping between case values and outputs.</p>
<p>Instructional Rationale: Interactive decoder where students set selector inputs and see which case branch activates demonstrates the parallel-selection nature of case statements.</p>
<p>Canvas Layout:</p>
<ul>
<li>Left: Case statement code with highlighting</li>
<li>Center: Selector input controls</li>
<li>Right: Output display showing selected case</li>
<li>Bottom: Synthesized hardware view (mux/decoder)</li>
</ul>
<p>Interactive Elements:</p>
<ul>
<li>Binary input for selector value</li>
<li>Highlight matching case branch</li>
<li>Show don't-care matching for casez</li>
<li>Toggle between case/casez/casex</li>
<li>Display synthesized circuit</li>
</ul>
<p>Data Visibility:</p>
<ul>
<li>Current selector value</li>
<li>All case values</li>
<li>Which case matches</li>
<li>Output value</li>
<li>Hardware representation</li>
</ul>
<p>Visual Style:</p>
<ul>
<li>Code panel with syntax highlighting</li>
<li>Selector as binary switches</li>
<li>Matched case highlighted green</li>
<li>Output with visual indicator</li>
<li>Circuit schematic at bottom</li>
</ul>
<p>Implementation: p5.js with case statement simulator</p>
</details>
<p>Case vs. if-else: which to use?</p>
<table>
<thead>
<tr>
<th>Situation</th>
<th>Use Case</th>
<th>Use If-Else</th>
</tr>
</thead>
<tbody>
<tr>
<td>Checking one signal against multiple values</td>
<td>✓</td>
<td></td>
</tr>
<tr>
<td>Multiple independent conditions</td>
<td></td>
<td>✓</td>
</tr>
<tr>
<td>Priority needed (first match wins)</td>
<td></td>
<td>✓</td>
</tr>
<tr>
<td>Equal-priority parallel decode</td>
<td>✓</td>
<td></td>
</tr>
<tr>
<td>Don't-care bits in patterns</td>
<td>✓ (casez)</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="combinational-always-blocks">Combinational Always Blocks</h2>
<p>A <strong>Combinational Always</strong> block models combinational logic—circuits with no memory, where outputs depend only on current inputs. Use <code>@(*)</code> sensitivity and blocking assignments.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Combinational logic: 4-bit adder</span>
<span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="w">    </span><span class="n">carry</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mh">4&#39;hF</span><span class="p">;</span>
<span class="k">end</span>
</code></pre></div></td></tr></table></div>
<p>Rules for combinational always blocks:</p>
<ol>
<li><strong>Use <code>@(*)</code></strong>: Automatic sensitivity list prevents bugs</li>
<li><strong>Use blocking <code>=</code></strong>: Sequential evaluation is fine for combinational logic</li>
<li><strong>Assign all outputs in all paths</strong>: Prevent latch inference</li>
<li><strong>No feedback</strong>: Don't read a signal you're assigning (unless it's a temporary)</li>
</ol>
<p>Complete combinational example—an ALU:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">module</span><span class="w"> </span><span class="n">alu</span><span class="p">(</span>
<span class="w">    </span><span class="k">input</span><span class="w">  </span><span class="p">[</span><span class="mh">7</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span>
<span class="w">    </span><span class="k">input</span><span class="w">  </span><span class="p">[</span><span class="mh">2</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">op</span><span class="p">,</span>
<span class="w">    </span><span class="k">output</span><span class="w"> </span><span class="kt">reg</span><span class="w"> </span><span class="p">[</span><span class="mh">7</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">result</span><span class="p">,</span>
<span class="w">    </span><span class="k">output</span><span class="w"> </span><span class="kt">reg</span><span class="w">       </span><span class="n">zero</span>
<span class="p">);</span>

<span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="p">(</span><span class="n">op</span><span class="p">)</span>
<span class="w">        </span><span class="mh">3</span><span class="mb">&#39;b000</span><span class="o">:</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w">      </span><span class="c1">// ADD</span>
<span class="w">        </span><span class="mh">3</span><span class="mb">&#39;b001</span><span class="o">:</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w">      </span><span class="c1">// SUB</span>
<span class="w">        </span><span class="mh">3</span><span class="mb">&#39;b010</span><span class="o">:</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w">      </span><span class="c1">// AND</span>
<span class="w">        </span><span class="mh">3</span><span class="mb">&#39;b011</span><span class="o">:</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w">      </span><span class="c1">// OR</span>
<span class="w">        </span><span class="mh">3</span><span class="mb">&#39;b100</span><span class="o">:</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w">      </span><span class="c1">// XOR</span>
<span class="w">        </span><span class="mh">3</span><span class="mb">&#39;b101</span><span class="o">:</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">~</span><span class="n">a</span><span class="p">;</span><span class="w">         </span><span class="c1">// NOT</span>
<span class="w">        </span><span class="mh">3</span><span class="mb">&#39;b110</span><span class="o">:</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mh">1</span><span class="p">;</span><span class="w">     </span><span class="c1">// Shift left</span>
<span class="w">        </span><span class="mh">3</span><span class="mb">&#39;b111</span><span class="o">:</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="mh">1</span><span class="p">;</span><span class="w">     </span><span class="c1">// Shift right</span>
<span class="w">        </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">8</span><span class="mb">&#39;b0</span><span class="p">;</span>
<span class="w">    </span><span class="k">endcase</span>
<span class="w">    </span><span class="n">zero</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mh">8</span><span class="mb">&#39;b0</span><span class="p">);</span>
<span class="k">end</span>

<span class="k">endmodule</span>
</code></pre></div></td></tr></table></div>
<div class="admonition note">
<p class="admonition-title">Combinational = No Memory</p>
<p>Combinational always blocks synthesize to gates, muxes, and arithmetic units—never flip-flops. If you accidentally create a latch (by not assigning in all paths), that's a synthesis error, not a feature.</p>
</div>
<h2 id="sequential-always-blocks">Sequential Always Blocks</h2>
<p>A <strong>Sequential Always</strong> block models sequential logic—circuits with memory that update on clock edges. Use <code>@(posedge clk)</code> and non-blocking assignments.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Sequential logic: D flip-flop</span>
<span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="k">posedge</span><span class="w"> </span><span class="n">clk</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="n">q</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">d</span><span class="p">;</span>
<span class="k">end</span>
</code></pre></div></td></tr></table></div>
<p>Rules for sequential always blocks:</p>
<ol>
<li><strong>Use edge-sensitive triggers</strong>: <code>@(posedge clk)</code> or <code>@(negedge clk)</code></li>
<li><strong>Use non-blocking <code>&lt;=</code></strong>: Prevents race conditions</li>
<li><strong>Not assigning is OK</strong>: Creates "hold" behavior (register keeps value)</li>
<li><strong>Reset is essential</strong>: Provide a way to initialize state</li>
</ol>
<p>Common sequential patterns:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Register with synchronous reset</span>
<span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="k">posedge</span><span class="w"> </span><span class="n">clk</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">reset</span><span class="p">)</span>
<span class="w">        </span><span class="n">q</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mh">8</span><span class="mb">&#39;b0</span><span class="p">;</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">enable</span><span class="p">)</span>
<span class="w">        </span><span class="n">q</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">d</span><span class="p">;</span>
<span class="w">    </span><span class="c1">// else: q holds its value (implicit in sequential blocks)</span>
<span class="k">end</span>

<span class="c1">// Register with asynchronous reset</span>
<span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="k">posedge</span><span class="w"> </span><span class="n">clk</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">posedge</span><span class="w"> </span><span class="n">reset</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">reset</span><span class="p">)</span>
<span class="w">        </span><span class="n">q</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mh">8</span><span class="mb">&#39;b0</span><span class="p">;</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="n">q</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">d</span><span class="p">;</span>
<span class="k">end</span>
</code></pre></div></td></tr></table></div>
<h4 id="diagram-sequential-always-timing">Diagram: Sequential Always Timing</h4>
<iframe src="../../sims/sequential-always-timing/main.html" width="100%" height="500px" scrolling="no"></iframe>

<details>
<summary>Sequential Always Block Timing</summary>
<p>Type: microsim</p>
<p>Bloom Level: Understand (L2)
Bloom Verb: Describe</p>
<p>Learning Objective: Students will be able to describe how sequential always blocks capture input values at clock edges, showing the one-cycle delay between input and output.</p>
<p>Instructional Rationale: Timing diagram with interactive clock control reveals when data is captured versus when it appears at the output.</p>
<p>Canvas Layout:</p>
<ul>
<li>Top: Clock waveform with manual control</li>
<li>Middle: D flip-flop circuit representation</li>
<li>Bottom: Input D and output Q waveforms</li>
<li>Side: Current state display</li>
</ul>
<p>Interactive Elements:</p>
<ul>
<li>Manual clock edge button</li>
<li>Free-running clock toggle with speed control</li>
<li>Input D toggle</li>
<li>Reset button</li>
<li>Highlight capture moment</li>
<li>Setup/hold time indicators</li>
</ul>
<p>Data Visibility:</p>
<ul>
<li>Clock value and edges</li>
<li>D input value</li>
<li>Q output value</li>
<li>Capture moment highlighted</li>
<li>One-cycle delay visible</li>
</ul>
<p>Visual Style:</p>
<ul>
<li>Clean waveform display</li>
<li>Clock edges marked</li>
<li>Capture points with vertical lines</li>
<li>D-to-Q delay visible</li>
<li>State display showing register contents</li>
</ul>
<p>Implementation: p5.js with clocked simulation</p>
</details>
<p>Counter example with enable and load:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">module</span><span class="w"> </span><span class="n">counter</span><span class="w"> </span><span class="p">#(</span>
<span class="w">    </span><span class="k">parameter</span><span class="w"> </span><span class="n">WIDTH</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">8</span>
<span class="p">)(</span>
<span class="w">    </span><span class="k">input</span><span class="w">                  </span><span class="n">clk</span><span class="p">,</span>
<span class="w">    </span><span class="k">input</span><span class="w">                  </span><span class="n">reset</span><span class="p">,</span>
<span class="w">    </span><span class="k">input</span><span class="w">                  </span><span class="n">enable</span><span class="p">,</span>
<span class="w">    </span><span class="k">input</span><span class="w">                  </span><span class="n">load</span><span class="p">,</span>
<span class="w">    </span><span class="k">input</span><span class="w">      </span><span class="p">[</span><span class="n">WIDTH</span><span class="o">-</span><span class="mh">1</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">load_value</span><span class="p">,</span>
<span class="w">    </span><span class="k">output</span><span class="w"> </span><span class="kt">reg</span><span class="w"> </span><span class="p">[</span><span class="n">WIDTH</span><span class="o">-</span><span class="mh">1</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">count</span>
<span class="p">);</span>

<span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="k">posedge</span><span class="w"> </span><span class="n">clk</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">posedge</span><span class="w"> </span><span class="n">reset</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">reset</span><span class="p">)</span>
<span class="w">        </span><span class="n">count</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="p">{</span><span class="n">WIDTH</span><span class="p">{</span><span class="mh">1</span><span class="mb">&#39;b0</span><span class="p">}};</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">load</span><span class="p">)</span>
<span class="w">        </span><span class="n">count</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">load_value</span><span class="p">;</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">enable</span><span class="p">)</span>
<span class="w">        </span><span class="n">count</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mh">1</span><span class="p">;</span>
<span class="w">    </span><span class="c1">// else: count holds its value</span>
<span class="k">end</span>

<span class="k">endmodule</span>
</code></pre></div></td></tr></table></div>
<h2 id="structural-modeling-building-from-components">Structural Modeling: Building from Components</h2>
<p><strong>Structural Modeling</strong> describes a circuit by instantiating and connecting lower-level components. It's like building with LEGO—you specify which pieces to use and how they connect.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Structural: Build 4-bit adder from full adders</span>
<span class="k">module</span><span class="w"> </span><span class="n">adder_4bit</span><span class="p">(</span>
<span class="w">    </span><span class="k">input</span><span class="w">  </span><span class="p">[</span><span class="mh">3</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span>
<span class="w">    </span><span class="k">input</span><span class="w">        </span><span class="n">cin</span><span class="p">,</span>
<span class="w">    </span><span class="k">output</span><span class="w"> </span><span class="p">[</span><span class="mh">3</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">sum</span><span class="p">,</span>
<span class="w">    </span><span class="k">output</span><span class="w">       </span><span class="n">cout</span>
<span class="p">);</span>
<span class="w">    </span><span class="kt">wire</span><span class="w"> </span><span class="n">c1</span><span class="p">,</span><span class="w"> </span><span class="n">c2</span><span class="p">,</span><span class="w"> </span><span class="n">c3</span><span class="p">;</span>

<span class="w">    </span><span class="n">full_adder</span><span class="w"> </span><span class="n">fa0</span><span class="p">(.</span><span class="n">a</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mh">0</span><span class="p">]),</span><span class="w"> </span><span class="p">.</span><span class="n">b</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="mh">0</span><span class="p">]),</span><span class="w"> </span><span class="p">.</span><span class="n">cin</span><span class="p">(</span><span class="n">cin</span><span class="p">),</span><span class="w"> </span><span class="p">.</span><span class="n">sum</span><span class="p">(</span><span class="n">sum</span><span class="p">[</span><span class="mh">0</span><span class="p">]),</span><span class="w"> </span><span class="p">.</span><span class="n">cout</span><span class="p">(</span><span class="n">c1</span><span class="p">));</span>
<span class="w">    </span><span class="n">full_adder</span><span class="w"> </span><span class="n">fa1</span><span class="p">(.</span><span class="n">a</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mh">1</span><span class="p">]),</span><span class="w"> </span><span class="p">.</span><span class="n">b</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="mh">1</span><span class="p">]),</span><span class="w"> </span><span class="p">.</span><span class="n">cin</span><span class="p">(</span><span class="n">c1</span><span class="p">),</span><span class="w">  </span><span class="p">.</span><span class="n">sum</span><span class="p">(</span><span class="n">sum</span><span class="p">[</span><span class="mh">1</span><span class="p">]),</span><span class="w"> </span><span class="p">.</span><span class="n">cout</span><span class="p">(</span><span class="n">c2</span><span class="p">));</span>
<span class="w">    </span><span class="n">full_adder</span><span class="w"> </span><span class="n">fa2</span><span class="p">(.</span><span class="n">a</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mh">2</span><span class="p">]),</span><span class="w"> </span><span class="p">.</span><span class="n">b</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="mh">2</span><span class="p">]),</span><span class="w"> </span><span class="p">.</span><span class="n">cin</span><span class="p">(</span><span class="n">c2</span><span class="p">),</span><span class="w">  </span><span class="p">.</span><span class="n">sum</span><span class="p">(</span><span class="n">sum</span><span class="p">[</span><span class="mh">2</span><span class="p">]),</span><span class="w"> </span><span class="p">.</span><span class="n">cout</span><span class="p">(</span><span class="n">c3</span><span class="p">));</span>
<span class="w">    </span><span class="n">full_adder</span><span class="w"> </span><span class="n">fa3</span><span class="p">(.</span><span class="n">a</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mh">3</span><span class="p">]),</span><span class="w"> </span><span class="p">.</span><span class="n">b</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="mh">3</span><span class="p">]),</span><span class="w"> </span><span class="p">.</span><span class="n">cin</span><span class="p">(</span><span class="n">c3</span><span class="p">),</span><span class="w">  </span><span class="p">.</span><span class="n">sum</span><span class="p">(</span><span class="n">sum</span><span class="p">[</span><span class="mh">3</span><span class="p">]),</span><span class="w"> </span><span class="p">.</span><span class="n">cout</span><span class="p">(</span><span class="n">cout</span><span class="p">));</span>
<span class="k">endmodule</span>
</code></pre></div></td></tr></table></div>
<p>Structural modeling is closest to how hardware actually works—you're literally describing what components exist and how they're wired. It offers:</p>
<ul>
<li><strong>Precise control</strong>: You know exactly what hardware will be generated</li>
<li><strong>Reusability</strong>: Instantiate the same module many times</li>
<li><strong>Hierarchy</strong>: Build complex systems from simpler parts</li>
<li><strong>Clarity</strong>: Easy to see the architecture</li>
</ul>
<p>The trade-off is verbosity—structural models are longer than behavioral equivalents.</p>
<h2 id="behavioral-modeling-describing-what-not-how">Behavioral Modeling: Describing What, Not How</h2>
<p><strong>Behavioral Modeling</strong> describes what a circuit <em>does</em> without specifying its structure. The synthesizer figures out how to implement it.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Behavioral: Just say what you want</span>
<span class="k">module</span><span class="w"> </span><span class="n">adder_4bit</span><span class="p">(</span>
<span class="w">    </span><span class="k">input</span><span class="w">  </span><span class="p">[</span><span class="mh">3</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span>
<span class="w">    </span><span class="k">input</span><span class="w">        </span><span class="n">cin</span><span class="p">,</span>
<span class="w">    </span><span class="k">output</span><span class="w"> </span><span class="p">[</span><span class="mh">4</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">sum</span>
<span class="p">);</span>
<span class="w">    </span><span class="k">assign</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">cin</span><span class="p">;</span><span class="w">  </span><span class="c1">// One line!</span>
<span class="k">endmodule</span>
</code></pre></div></td></tr></table></div>
<p>That single <code>assign</code> statement synthesizes to the same ripple-carry adder as the structural version—but it's much shorter to write!</p>
<p>Behavioral modeling uses:</p>
<ul>
<li><strong>Operators</strong>: <code>+</code>, <code>-</code>, <code>*</code>, <code>&amp;</code>, <code>|</code>, etc.</li>
<li><strong>Always blocks</strong>: For procedural descriptions</li>
<li><strong>If-else and case</strong>: For conditional logic</li>
<li><strong>Loops</strong> (in simulation): For repetitive patterns</li>
</ul>
<h4 id="diagram-structural-vs-behavioral-comparison">Diagram: Structural vs Behavioral Comparison</h4>
<iframe src="../../sims/structural-vs-behavioral/main.html" width="100%" height="550px" scrolling="no"></iframe>

<details>
<summary>Structural vs Behavioral Modeling Comparison</summary>
<p>Type: microsim</p>
<p>Bloom Level: Analyze (L4)
Bloom Verb: Compare</p>
<p>Learning Objective: Students will be able to compare structural and behavioral modeling approaches by observing that both produce equivalent hardware but with different code complexity and design control.</p>
<p>Instructional Rationale: Side-by-side view of structural and behavioral descriptions of the same circuit, with synthesized hardware view, reveals the abstraction trade-off.</p>
<p>Canvas Layout:</p>
<ul>
<li>Left panel: Structural code</li>
<li>Right panel: Behavioral code</li>
<li>Center: Synthesized hardware (same for both!)</li>
<li>Bottom: Simulation controls and comparison</li>
</ul>
<p>Interactive Elements:</p>
<ul>
<li>Input value controls</li>
<li>Simulate both versions</li>
<li>Compare outputs (should match)</li>
<li>Toggle hardware view</li>
<li>Code line highlighting</li>
<li>Complexity metrics display</li>
</ul>
<p>Data Visibility:</p>
<ul>
<li>Both code versions</li>
<li>Synthesized circuit</li>
<li>Input/output values</li>
<li>Verification that outputs match</li>
<li>Code complexity comparison (lines, modules)</li>
</ul>
<p>Visual Style:</p>
<ul>
<li>Two-column code display</li>
<li>Shared circuit schematic</li>
<li>Matched highlighting between code and hardware</li>
<li>Difference counter showing code size difference</li>
</ul>
<p>Implementation: p5.js with dual code panels and shared simulation</p>
</details>
<p>When to use each style:</p>
<table>
<thead>
<tr>
<th>Modeling Style</th>
<th>Best For</th>
</tr>
</thead>
<tbody>
<tr>
<td>Structural</td>
<td>Precise control, reusing specific components, IP integration</td>
</tr>
<tr>
<td>Behavioral</td>
<td>Rapid development, high-level specification, arithmetic</td>
</tr>
<tr>
<td>Mixed</td>
<td>Most real designs—behavioral for logic, structural for hierarchy</td>
</tr>
</tbody>
</table>
<h2 id="gate-level-verilog-the-primitive-foundation">Gate-Level Verilog: The Primitive Foundation</h2>
<p><strong>Gate-Level Verilog</strong> uses built-in gate primitives to describe circuits at the most fundamental level. It's like assembly language for hardware—rarely written by hand, but important to understand.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Gate-level: Full adder from gates</span>
<span class="k">module</span><span class="w"> </span><span class="n">full_adder</span><span class="p">(</span>
<span class="w">    </span><span class="k">input</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">cin</span><span class="p">,</span>
<span class="w">    </span><span class="k">output</span><span class="w"> </span><span class="n">sum</span><span class="p">,</span><span class="w"> </span><span class="n">cout</span>
<span class="p">);</span>
<span class="w">    </span><span class="kt">wire</span><span class="w"> </span><span class="n">w1</span><span class="p">,</span><span class="w"> </span><span class="n">w2</span><span class="p">,</span><span class="w"> </span><span class="n">w3</span><span class="p">;</span>

<span class="w">    </span><span class="k">xor</span><span class="w"> </span><span class="n">g1</span><span class="p">(</span><span class="n">w1</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">);</span><span class="w">        </span><span class="c1">// w1 = a XOR b</span>
<span class="w">    </span><span class="k">xor</span><span class="w"> </span><span class="n">g2</span><span class="p">(</span><span class="n">sum</span><span class="p">,</span><span class="w"> </span><span class="n">w1</span><span class="p">,</span><span class="w"> </span><span class="n">cin</span><span class="p">);</span><span class="w">    </span><span class="c1">// sum = w1 XOR cin</span>
<span class="w">    </span><span class="k">and</span><span class="w"> </span><span class="n">g3</span><span class="p">(</span><span class="n">w2</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">);</span><span class="w">        </span><span class="c1">// w2 = a AND b</span>
<span class="w">    </span><span class="k">and</span><span class="w"> </span><span class="n">g4</span><span class="p">(</span><span class="n">w3</span><span class="p">,</span><span class="w"> </span><span class="n">w1</span><span class="p">,</span><span class="w"> </span><span class="n">cin</span><span class="p">);</span><span class="w">     </span><span class="c1">// w3 = w1 AND cin</span>
<span class="w">    </span><span class="k">or</span><span class="w">  </span><span class="n">g5</span><span class="p">(</span><span class="n">cout</span><span class="p">,</span><span class="w"> </span><span class="n">w2</span><span class="p">,</span><span class="w"> </span><span class="n">w3</span><span class="p">);</span><span class="w">    </span><span class="c1">// cout = w2 OR w3</span>
<span class="k">endmodule</span>
</code></pre></div></td></tr></table></div>
<p>Verilog includes these gate primitives:</p>
<table>
<thead>
<tr>
<th>Primitive</th>
<th>Inputs</th>
<th>Function</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>and</code></td>
<td>2+</td>
<td>AND of all inputs</td>
</tr>
<tr>
<td><code>or</code></td>
<td>2+</td>
<td>OR of all inputs</td>
</tr>
<tr>
<td><code>xor</code></td>
<td>2+</td>
<td>XOR of all inputs</td>
</tr>
<tr>
<td><code>nand</code></td>
<td>2+</td>
<td>NAND of all inputs</td>
</tr>
<tr>
<td><code>nor</code></td>
<td>2+</td>
<td>NOR of all inputs</td>
</tr>
<tr>
<td><code>xnor</code></td>
<td>2+</td>
<td>XNOR of all inputs</td>
</tr>
<tr>
<td><code>not</code></td>
<td>1</td>
<td>Inversion</td>
</tr>
<tr>
<td><code>buf</code></td>
<td>1</td>
<td>Buffer (no inversion)</td>
</tr>
</tbody>
</table>
<p>Gate primitive syntax:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">gate_type</span><span class="w"> </span><span class="n">instance_name</span><span class="p">(</span><span class="k">output</span><span class="p">,</span><span class="w"> </span><span class="n">input1</span><span class="p">,</span><span class="w"> </span><span class="n">input2</span><span class="p">,</span><span class="w"> </span><span class="p">...);</span>

<span class="c1">// Examples:</span>
<span class="k">and</span><span class="w">  </span><span class="n">my_and</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">);</span><span class="w">        </span><span class="c1">// y = a &amp; b</span>
<span class="k">or</span><span class="w">   </span><span class="n">my_or</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">);</span><span class="w">      </span><span class="c1">// y = a | b | c</span>
<span class="k">xor</span><span class="w">  </span><span class="n">my_xor</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">);</span><span class="w">        </span><span class="c1">// y = a ^ b</span>
<span class="k">nand</span><span class="w"> </span><span class="n">my_nand</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="p">);</span><span class="w"> </span><span class="c1">// y = ~(a &amp; b &amp; c &amp; d)</span>
<span class="k">not</span><span class="w">  </span><span class="n">my_not</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">);</span><span class="w">           </span><span class="c1">// y = ~a</span>
</code></pre></div></td></tr></table></div>
<p>Gate primitives have these characteristics:</p>
<ul>
<li><strong>Output first</strong>: The first port is always the output</li>
<li><strong>N-input gates</strong>: <code>and</code>, <code>or</code>, etc. can have any number of inputs</li>
<li><strong>Optional instance names</strong>: <code>and (y, a, b);</code> is legal</li>
<li><strong>Built-in timing</strong>: Can specify delays for simulation</li>
</ul>
<div class="admonition note">
<p class="admonition-title">When to Use Gate-Level</p>
<p>Gate-level modeling is rarely written by hand today—behavioral Verilog is faster to write and less error-prone. However, you'll encounter gate-level Verilog in:
- Netlists generated by synthesis tools
- Timing simulation files
- Libraries from foundries
- Educational examples showing hardware correspondence</p>
</div>
<h2 id="rtl-verilog-the-sweet-spot">RTL Verilog: The Sweet Spot</h2>
<p><strong>RTL Verilog</strong> (Register Transfer Level) is the practical middle ground between high-level behavioral modeling and low-level gate primitives. It describes how data moves between registers through combinational logic.</p>
<p>RTL is defined by:</p>
<ol>
<li><strong>Registers</strong>: Sequential elements (flip-flops) that store state</li>
<li><strong>Combinational logic</strong>: Operations between registers</li>
<li><strong>Clock-driven updates</strong>: Registers update on clock edges</li>
</ol>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// RTL style: Clear register-to-register flow</span>
<span class="k">module</span><span class="w"> </span><span class="n">rtl_example</span><span class="p">(</span>
<span class="w">    </span><span class="k">input</span><span class="w">        </span><span class="n">clk</span><span class="p">,</span>
<span class="w">    </span><span class="k">input</span><span class="w">        </span><span class="n">reset</span><span class="p">,</span>
<span class="w">    </span><span class="k">input</span><span class="w">  </span><span class="p">[</span><span class="mh">7</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">data_in</span><span class="p">,</span>
<span class="w">    </span><span class="k">output</span><span class="w"> </span><span class="kt">reg</span><span class="w"> </span><span class="p">[</span><span class="mh">7</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">data_out</span>
<span class="p">);</span>

<span class="w">    </span><span class="kt">reg</span><span class="w"> </span><span class="p">[</span><span class="mh">7</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">stage1</span><span class="p">,</span><span class="w"> </span><span class="n">stage2</span><span class="p">;</span><span class="w">  </span><span class="c1">// Pipeline registers</span>

<span class="w">    </span><span class="c1">// Stage 1: Add constant</span>
<span class="w">    </span><span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="k">posedge</span><span class="w"> </span><span class="n">clk</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">reset</span><span class="p">)</span>
<span class="w">            </span><span class="n">stage1</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mh">8</span><span class="mb">&#39;b0</span><span class="p">;</span>
<span class="w">        </span><span class="k">else</span>
<span class="w">            </span><span class="n">stage1</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">data_in</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mh">8</span><span class="mi">&#39;d10</span><span class="p">;</span>
<span class="w">    </span><span class="k">end</span>

<span class="w">    </span><span class="c1">// Stage 2: Multiply by 2</span>
<span class="w">    </span><span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="k">posedge</span><span class="w"> </span><span class="n">clk</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">reset</span><span class="p">)</span>
<span class="w">            </span><span class="n">stage2</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mh">8</span><span class="mb">&#39;b0</span><span class="p">;</span>
<span class="w">        </span><span class="k">else</span>
<span class="w">            </span><span class="n">stage2</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">stage1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mh">1</span><span class="p">;</span>
<span class="w">    </span><span class="k">end</span>

<span class="w">    </span><span class="c1">// Output stage</span>
<span class="w">    </span><span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="k">posedge</span><span class="w"> </span><span class="n">clk</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">reset</span><span class="p">)</span>
<span class="w">            </span><span class="n">data_out</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mh">8</span><span class="mb">&#39;b0</span><span class="p">;</span>
<span class="w">        </span><span class="k">else</span>
<span class="w">            </span><span class="n">data_out</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">stage2</span><span class="p">;</span>
<span class="w">    </span><span class="k">end</span>

<span class="k">endmodule</span>
</code></pre></div></td></tr></table></div>
<p>The RTL paradigm matches how synthesis tools work:</p>
<ol>
<li>Identify the registers (sequential always blocks)</li>
<li>Extract the combinational logic between registers</li>
<li>Map combinational logic to gates</li>
<li>Map registers to flip-flops</li>
<li>Connect everything with wires</li>
</ol>
<h4 id="diagram-rtl-datapath-visualization">Diagram: RTL Datapath Visualization</h4>
<iframe src="../../sims/rtl-datapath/main.html" width="100%" height="550px" scrolling="no"></iframe>

<details>
<summary>RTL Datapath Visualization</summary>
<p>Type: microsim</p>
<p>Bloom Level: Analyze (L4)
Bloom Verb: Examine</p>
<p>Learning Objective: Students will be able to examine RTL designs by identifying the registers, combinational logic blocks, and data flow paths that define register-transfer-level descriptions.</p>
<p>Instructional Rationale: Interactive pipeline diagram showing data moving through registers on each clock cycle makes the register-transfer model concrete and traceable.</p>
<p>Canvas Layout:</p>
<ul>
<li>Top: Pipeline diagram with registers and combinational blocks</li>
<li>Middle: Data values at each stage</li>
<li>Bottom: Clock control and waveforms</li>
<li>Side: Stage-by-stage view</li>
</ul>
<p>Interactive Elements:</p>
<ul>
<li>Input data entry</li>
<li>Clock step button</li>
<li>Watch data flow through pipeline</li>
<li>Highlight current register updates</li>
<li>Reset button</li>
<li>Multi-cycle animation mode</li>
</ul>
<p>Data Visibility:</p>
<ul>
<li>Input value</li>
<li>Each register's contents</li>
<li>Combinational operations between registers</li>
<li>Output value</li>
<li>Pipeline latency demonstration</li>
</ul>
<p>Visual Style:</p>
<ul>
<li>Boxes for registers (blue)</li>
<li>Clouds for combinational logic (yellow)</li>
<li>Arrows for data flow</li>
<li>Values displayed inside elements</li>
<li>Clock edge animation</li>
</ul>
<p>Implementation: p5.js with pipeline simulation</p>
</details>
<p>RTL is the standard for synthesizable design because it:</p>
<ul>
<li>Maps directly to hardware structures</li>
<li>Is predictable (you know what you'll get)</li>
<li>Works with all synthesis tools</li>
<li>Scales to complex designs</li>
</ul>
<h2 id="hierarchical-design-divide-and-conquer">Hierarchical Design: Divide and Conquer</h2>
<p><strong>Hierarchical Design</strong> organizes complex systems into nested modules, where each module contains instances of other modules. It's the fundamental principle of managing complexity in digital design.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span></pre></div></td><td class="code"><div><pre><span></span><code>                    ┌─────────────────────┐
                    │      Top Level      │
                    │    (System)         │
                    └─────────────────────┘
                              │
              ┌───────────────┼───────────────┐
              │               │               │
         ┌────▼────┐    ┌────▼────┐    ┌────▼────┐
         │  CPU    │    │ Memory  │    │  I/O    │
         │ Module  │    │ Module  │    │ Module  │
         └─────────┘    └─────────┘    └─────────┘
              │
    ┌─────────┼─────────┐
    │         │         │
┌───▼───┐ ┌──▼───┐ ┌───▼───┐
│  ALU  │ │ Regs │ │Control│
└───────┘ └──────┘ └───────┘
</code></pre></div></td></tr></table></div>
<p>Benefits of hierarchical design:</p>
<ul>
<li><strong>Complexity management</strong>: Divide big problems into smaller ones</li>
<li><strong>Reusability</strong>: Write once, instantiate many times</li>
<li><strong>Team collaboration</strong>: Different engineers own different modules</li>
<li><strong>Testing</strong>: Verify modules independently before integration</li>
<li><strong>Maintainability</strong>: Changes are localized to specific modules</li>
</ul>
<p>Example of hierarchical CPU design:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Top-level module</span>
<span class="k">module</span><span class="w"> </span><span class="n">simple_cpu</span><span class="p">(</span>
<span class="w">    </span><span class="k">input</span><span class="w">        </span><span class="n">clk</span><span class="p">,</span>
<span class="w">    </span><span class="k">input</span><span class="w">        </span><span class="n">reset</span><span class="p">,</span>
<span class="w">    </span><span class="k">input</span><span class="w">  </span><span class="p">[</span><span class="mh">7</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">instruction</span><span class="p">,</span>
<span class="w">    </span><span class="k">output</span><span class="w"> </span><span class="p">[</span><span class="mh">7</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">result</span>
<span class="p">);</span>
<span class="w">    </span><span class="kt">wire</span><span class="w"> </span><span class="p">[</span><span class="mh">7</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">alu_a</span><span class="p">,</span><span class="w"> </span><span class="n">alu_b</span><span class="p">,</span><span class="w"> </span><span class="n">alu_result</span><span class="p">;</span>
<span class="w">    </span><span class="kt">wire</span><span class="w"> </span><span class="p">[</span><span class="mh">2</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">alu_op</span><span class="p">;</span>
<span class="w">    </span><span class="kt">wire</span><span class="w">       </span><span class="n">reg_write</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Instantiate sub-modules</span>
<span class="w">    </span><span class="n">register_file</span><span class="w"> </span><span class="n">regs</span><span class="p">(</span>
<span class="w">        </span><span class="p">.</span><span class="n">clk</span><span class="p">(</span><span class="n">clk</span><span class="p">),</span>
<span class="w">        </span><span class="p">.</span><span class="n">reset</span><span class="p">(</span><span class="n">reset</span><span class="p">),</span>
<span class="w">        </span><span class="p">.</span><span class="n">write_en</span><span class="p">(</span><span class="n">reg_write</span><span class="p">),</span>
<span class="w">        </span><span class="p">.</span><span class="n">write_data</span><span class="p">(</span><span class="n">alu_result</span><span class="p">),</span>
<span class="w">        </span><span class="p">.</span><span class="n">read_data_a</span><span class="p">(</span><span class="n">alu_a</span><span class="p">),</span>
<span class="w">        </span><span class="p">.</span><span class="n">read_data_b</span><span class="p">(</span><span class="n">alu_b</span><span class="p">)</span>
<span class="w">    </span><span class="p">);</span>

<span class="w">    </span><span class="n">alu</span><span class="w"> </span><span class="n">alu_unit</span><span class="p">(</span>
<span class="w">        </span><span class="p">.</span><span class="n">a</span><span class="p">(</span><span class="n">alu_a</span><span class="p">),</span>
<span class="w">        </span><span class="p">.</span><span class="n">b</span><span class="p">(</span><span class="n">alu_b</span><span class="p">),</span>
<span class="w">        </span><span class="p">.</span><span class="n">op</span><span class="p">(</span><span class="n">alu_op</span><span class="p">),</span>
<span class="w">        </span><span class="p">.</span><span class="n">result</span><span class="p">(</span><span class="n">alu_result</span><span class="p">)</span>
<span class="w">    </span><span class="p">);</span>

<span class="w">    </span><span class="n">control_unit</span><span class="w"> </span><span class="n">ctrl</span><span class="p">(</span>
<span class="w">        </span><span class="p">.</span><span class="n">instruction</span><span class="p">(</span><span class="n">instruction</span><span class="p">),</span>
<span class="w">        </span><span class="p">.</span><span class="n">alu_op</span><span class="p">(</span><span class="n">alu_op</span><span class="p">),</span>
<span class="w">        </span><span class="p">.</span><span class="n">reg_write</span><span class="p">(</span><span class="n">reg_write</span><span class="p">)</span>
<span class="w">    </span><span class="p">);</span>

<span class="w">    </span><span class="k">assign</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">alu_result</span><span class="p">;</span>
<span class="k">endmodule</span>
</code></pre></div></td></tr></table></div>
<h4 id="diagram-hierarchical-design-explorer">Diagram: Hierarchical Design Explorer</h4>
<iframe src="../../sims/hierarchical-design/main.html" width="100%" height="600px" scrolling="no"></iframe>

<details>
<summary>Hierarchical Design Explorer</summary>
<p>Type: infographic</p>
<p>Bloom Level: Analyze (L4)
Bloom Verb: Organize</p>
<p>Learning Objective: Students will be able to organize complex designs hierarchically by understanding how modules contain instances of other modules, creating a tree structure of design components.</p>
<p>Instructional Rationale: Interactive hierarchy tree with zoom and expand capabilities demonstrates how large designs are decomposed into manageable modules.</p>
<p>Canvas Layout:</p>
<ul>
<li>Main area: Expandable hierarchy tree</li>
<li>Click to zoom into module details</li>
<li>Breadcrumb navigation showing current location</li>
<li>Side panel: Selected module code and ports</li>
</ul>
<p>Interactive Elements:</p>
<ul>
<li>Click to expand/collapse modules</li>
<li>Zoom into module to see internals</li>
<li>Navigate up/down hierarchy</li>
<li>Highlight signal paths through hierarchy</li>
<li>Show instance count at each level</li>
<li>Search for specific modules</li>
</ul>
<p>Data Visibility:</p>
<ul>
<li>Full hierarchy tree</li>
<li>Module names and types</li>
<li>Instance counts</li>
<li>Port connections</li>
<li>Signal paths</li>
</ul>
<p>Visual Style:</p>
<ul>
<li>Tree structure with connecting lines</li>
<li>Color coding by module type</li>
<li>Expandable nodes</li>
<li>Breadcrumb navigation</li>
<li>Module detail panel</li>
</ul>
<p>Implementation: p5.js with tree visualization</p>
</details>
<p>Design hierarchy guidelines:</p>
<ol>
<li><strong>Single responsibility</strong>: Each module does one thing well</li>
<li><strong>Clear interfaces</strong>: Ports should be well-defined and documented</li>
<li><strong>Reasonable size</strong>: Modules of 50-200 lines are typical</li>
<li><strong>Consistent naming</strong>: Use clear, descriptive module and port names</li>
<li><strong>Parameterization</strong>: Make modules configurable with parameters</li>
</ol>
<div class="admonition tip">
<p class="admonition-title">Think Like an Architect</p>
<p>Before writing any Verilog, sketch your hierarchy on paper. Draw boxes for modules, arrows for connections. This "architectural thinking" saves hours of debugging later. The best designers spend more time planning than coding.</p>
</div>
<h2 id="putting-it-all-together-a-complete-example">Putting It All Together: A Complete Example</h2>
<p>Let's build a complete design using multiple modeling styles—a simple UART transmitter:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">  1</span>
<span class="normal">  2</span>
<span class="normal">  3</span>
<span class="normal">  4</span>
<span class="normal">  5</span>
<span class="normal">  6</span>
<span class="normal">  7</span>
<span class="normal">  8</span>
<span class="normal">  9</span>
<span class="normal"> 10</span>
<span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">//----------------------------------------------</span>
<span class="c1">// UART Transmitter - Mixed Modeling Example</span>
<span class="c1">//----------------------------------------------</span>
<span class="k">module</span><span class="w"> </span><span class="n">uart_tx</span><span class="w"> </span><span class="p">#(</span>
<span class="w">    </span><span class="k">parameter</span><span class="w"> </span><span class="n">CLK_FREQ</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">50</span><span class="n">_000_000</span><span class="p">,</span>
<span class="w">    </span><span class="k">parameter</span><span class="w"> </span><span class="n">BAUD</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="mh">115200</span>
<span class="p">)(</span>
<span class="w">    </span><span class="k">input</span><span class="w">        </span><span class="n">clk</span><span class="p">,</span>
<span class="w">    </span><span class="k">input</span><span class="w">        </span><span class="n">reset</span><span class="p">,</span>
<span class="w">    </span><span class="k">input</span><span class="w">        </span><span class="n">start</span><span class="p">,</span>
<span class="w">    </span><span class="k">input</span><span class="w">  </span><span class="p">[</span><span class="mh">7</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">data</span><span class="p">,</span>
<span class="w">    </span><span class="k">output</span><span class="w"> </span><span class="kt">reg</span><span class="w">   </span><span class="n">tx</span><span class="p">,</span>
<span class="w">    </span><span class="k">output</span><span class="w"> </span><span class="kt">reg</span><span class="w">   </span><span class="n">busy</span>
<span class="p">);</span>

<span class="w">    </span><span class="c1">// Derived parameters</span>
<span class="w">    </span><span class="k">localparam</span><span class="w"> </span><span class="n">CLKS_PER_BIT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CLK_FREQ</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">BAUD</span><span class="p">;</span>
<span class="w">    </span><span class="k">localparam</span><span class="w"> </span><span class="n">CNT_WIDTH</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">$clog2</span><span class="p">(</span><span class="n">CLKS_PER_BIT</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// State encoding</span>
<span class="w">    </span><span class="k">localparam</span><span class="w"> </span><span class="n">IDLE</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mh">2</span><span class="mb">&#39;b00</span><span class="p">;</span>
<span class="w">    </span><span class="k">localparam</span><span class="w"> </span><span class="n">START</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">2</span><span class="mb">&#39;b01</span><span class="p">;</span>
<span class="w">    </span><span class="k">localparam</span><span class="w"> </span><span class="n">DATA</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mh">2</span><span class="mb">&#39;b10</span><span class="p">;</span>
<span class="w">    </span><span class="k">localparam</span><span class="w"> </span><span class="n">STOP</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mh">2</span><span class="mb">&#39;b11</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Registers</span>
<span class="w">    </span><span class="kt">reg</span><span class="w"> </span><span class="p">[</span><span class="mh">1</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w">           </span><span class="n">state</span><span class="p">;</span>
<span class="w">    </span><span class="kt">reg</span><span class="w"> </span><span class="p">[</span><span class="n">CNT_WIDTH</span><span class="o">-</span><span class="mh">1</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">clk_count</span><span class="p">;</span>
<span class="w">    </span><span class="kt">reg</span><span class="w"> </span><span class="p">[</span><span class="mh">2</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w">           </span><span class="n">bit_index</span><span class="p">;</span>
<span class="w">    </span><span class="kt">reg</span><span class="w"> </span><span class="p">[</span><span class="mh">7</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w">           </span><span class="n">tx_data</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Combinational: Next state logic</span>
<span class="w">    </span><span class="kt">reg</span><span class="w"> </span><span class="p">[</span><span class="mh">1</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">next_state</span><span class="p">;</span>
<span class="w">    </span><span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">        </span><span class="n">next_state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">state</span><span class="p">;</span><span class="w">  </span><span class="c1">// Default: stay in current state</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
<span class="w">            </span><span class="nl">IDLE:</span><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">start</span><span class="p">)</span><span class="w"> </span><span class="n">next_state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">START</span><span class="p">;</span>
<span class="w">            </span><span class="nl">START:</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">clk_count</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">CLKS_PER_BIT</span><span class="o">-</span><span class="mh">1</span><span class="p">)</span><span class="w"> </span><span class="n">next_state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DATA</span><span class="p">;</span>
<span class="w">            </span><span class="nl">DATA:</span><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">clk_count</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">CLKS_PER_BIT</span><span class="o">-</span><span class="mh">1</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">bit_index</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mh">7</span><span class="p">)</span>
<span class="w">                       </span><span class="n">next_state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">STOP</span><span class="p">;</span>
<span class="w">            </span><span class="nl">STOP:</span><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">clk_count</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">CLKS_PER_BIT</span><span class="o">-</span><span class="mh">1</span><span class="p">)</span><span class="w"> </span><span class="n">next_state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">IDLE</span><span class="p">;</span>
<span class="w">        </span><span class="k">endcase</span>
<span class="w">    </span><span class="k">end</span>

<span class="w">    </span><span class="c1">// Sequential: State register and counters</span>
<span class="w">    </span><span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="k">posedge</span><span class="w"> </span><span class="n">clk</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">posedge</span><span class="w"> </span><span class="n">reset</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">reset</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">            </span><span class="n">state</span><span class="w">     </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">IDLE</span><span class="p">;</span>
<span class="w">            </span><span class="n">clk_count</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mh">0</span><span class="p">;</span>
<span class="w">            </span><span class="n">bit_index</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mh">0</span><span class="p">;</span>
<span class="w">            </span><span class="n">tx_data</span><span class="w">   </span><span class="o">&lt;=</span><span class="w"> </span><span class="mh">8</span><span class="mb">&#39;b0</span><span class="p">;</span>
<span class="w">            </span><span class="n">tx</span><span class="w">        </span><span class="o">&lt;=</span><span class="w"> </span><span class="mh">1</span><span class="mb">&#39;b1</span><span class="p">;</span><span class="w">  </span><span class="c1">// Idle high</span>
<span class="w">            </span><span class="n">busy</span><span class="w">      </span><span class="o">&lt;=</span><span class="w"> </span><span class="mh">1</span><span class="mb">&#39;b0</span><span class="p">;</span>
<span class="w">        </span><span class="k">end</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">begin</span>
<span class="w">            </span><span class="n">state</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">next_state</span><span class="p">;</span>

<span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
<span class="w">                </span><span class="nl">IDLE:</span><span class="w"> </span><span class="k">begin</span>
<span class="w">                    </span><span class="n">tx</span><span class="w">   </span><span class="o">&lt;=</span><span class="w"> </span><span class="mh">1</span><span class="mb">&#39;b1</span><span class="p">;</span>
<span class="w">                    </span><span class="n">busy</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mh">1</span><span class="mb">&#39;b0</span><span class="p">;</span>
<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">start</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">                        </span><span class="n">tx_data</span><span class="w">   </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">data</span><span class="p">;</span>
<span class="w">                        </span><span class="n">clk_count</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mh">0</span><span class="p">;</span>
<span class="w">                        </span><span class="n">busy</span><span class="w">      </span><span class="o">&lt;=</span><span class="w"> </span><span class="mh">1</span><span class="mb">&#39;b1</span><span class="p">;</span>
<span class="w">                    </span><span class="k">end</span>
<span class="w">                </span><span class="k">end</span>

<span class="w">                </span><span class="nl">START:</span><span class="w"> </span><span class="k">begin</span>
<span class="w">                    </span><span class="n">tx</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mh">1</span><span class="mb">&#39;b0</span><span class="p">;</span><span class="w">  </span><span class="c1">// Start bit</span>
<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">clk_count</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">CLKS_PER_BIT</span><span class="o">-</span><span class="mh">1</span><span class="p">)</span>
<span class="w">                        </span><span class="n">clk_count</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">clk_count</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mh">1</span><span class="p">;</span>
<span class="w">                    </span><span class="k">else</span><span class="w"> </span><span class="k">begin</span>
<span class="w">                        </span><span class="n">clk_count</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mh">0</span><span class="p">;</span>
<span class="w">                        </span><span class="n">bit_index</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mh">0</span><span class="p">;</span>
<span class="w">                    </span><span class="k">end</span>
<span class="w">                </span><span class="k">end</span>

<span class="w">                </span><span class="nl">DATA:</span><span class="w"> </span><span class="k">begin</span>
<span class="w">                    </span><span class="n">tx</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">tx_data</span><span class="p">[</span><span class="n">bit_index</span><span class="p">];</span>
<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">clk_count</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">CLKS_PER_BIT</span><span class="o">-</span><span class="mh">1</span><span class="p">)</span>
<span class="w">                        </span><span class="n">clk_count</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">clk_count</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mh">1</span><span class="p">;</span>
<span class="w">                    </span><span class="k">else</span><span class="w"> </span><span class="k">begin</span>
<span class="w">                        </span><span class="n">clk_count</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mh">0</span><span class="p">;</span>
<span class="w">                        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">bit_index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mh">7</span><span class="p">)</span>
<span class="w">                            </span><span class="n">bit_index</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">bit_index</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mh">1</span><span class="p">;</span>
<span class="w">                    </span><span class="k">end</span>
<span class="w">                </span><span class="k">end</span>

<span class="w">                </span><span class="nl">STOP:</span><span class="w"> </span><span class="k">begin</span>
<span class="w">                    </span><span class="n">tx</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mh">1</span><span class="mb">&#39;b1</span><span class="p">;</span><span class="w">  </span><span class="c1">// Stop bit</span>
<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">clk_count</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">CLKS_PER_BIT</span><span class="o">-</span><span class="mh">1</span><span class="p">)</span>
<span class="w">                        </span><span class="n">clk_count</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">clk_count</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mh">1</span><span class="p">;</span>
<span class="w">                    </span><span class="k">else</span>
<span class="w">                        </span><span class="n">clk_count</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mh">0</span><span class="p">;</span>
<span class="w">                </span><span class="k">end</span>
<span class="w">            </span><span class="k">endcase</span>
<span class="w">        </span><span class="k">end</span>
<span class="w">    </span><span class="k">end</span>

<span class="k">endmodule</span>
</code></pre></div></td></tr></table></div>
<p>This example demonstrates:</p>
<ul>
<li><strong>Behavioral modeling</strong>: Always blocks for state machine logic</li>
<li><strong>Parameterization</strong>: Configurable clock frequency and baud rate</li>
<li><strong>RTL style</strong>: Clear separation of combinational and sequential logic</li>
<li><strong>State machines</strong>: Proper encoding and transitions</li>
<li><strong>Both assignment types</strong>: <code>=</code> in combinational, <code>&lt;=</code> in sequential</li>
</ul>
<h2 id="summary-and-key-takeaways">Summary and Key Takeaways</h2>
<p>Congratulations! You've graduated from Verilog basics to professional-level modeling techniques. Let's recap the essential points:</p>
<p><strong>Always Blocks and Sensitivity:</strong></p>
<ul>
<li><code>always @(*)</code> for combinational logic (level-sensitive)</li>
<li><code>always @(posedge clk)</code> for sequential logic (edge-sensitive)</li>
<li><code>@(*)</code> automatically includes all read signals—use it!</li>
</ul>
<p><strong>The Assignment Golden Rules:</strong></p>
<ul>
<li>Use <code>=</code> (blocking) in combinational always blocks</li>
<li>Use <code>&lt;=</code> (non-blocking) in sequential always blocks</li>
<li>Never mix them in the same block</li>
<li>Non-blocking enables safe concurrent updates</li>
</ul>
<p><strong>Decision Structures:</strong></p>
<ul>
<li><code>if-else</code> creates priority-encoded logic</li>
<li><code>case</code> creates parallel selection</li>
<li>Always cover all cases to avoid latches</li>
<li>Use <code>casez</code> for don't-care matching</li>
</ul>
<p><strong>Modeling Styles:</strong></p>
<ul>
<li><strong>Structural</strong>: Instantiate and connect components</li>
<li><strong>Behavioral</strong>: Describe what, let tools figure out how</li>
<li><strong>Gate-level</strong>: Use primitive gates (rarely hand-written)</li>
<li><strong>RTL</strong>: The practical middle ground for synthesis</li>
</ul>
<p><strong>Hierarchical Design:</strong></p>
<ul>
<li>Divide complex systems into manageable modules</li>
<li>Clear interfaces enable team collaboration</li>
<li>Reuse modules through instantiation</li>
<li>Test modules independently</li>
</ul>
<div class="admonition success">
<p class="admonition-title">The Professional Mindset</p>
<p>Real designers use <em>all</em> these techniques, mixing them appropriately. Use behavioral modeling for complex logic, structural instantiation for reusable components, and always think hierarchically. The best Verilog code is readable, synthesizable, and maintainable.</p>
</div>
<details>
<summary>Graphic Novel Suggestion</summary>
<p>A compelling graphic novel could follow the journey of a chip design team at a startup in the late 1990s, racing to tape out their first ASIC before funding runs dry. The protagonist, a young engineer fresh from university, must master RTL design under pressure while dealing with the classic tensions: simulation vs. synthesis mismatches, timing closure nightmares, and the eternal blocking vs. non-blocking debugging session at 3 AM. The dramatic climax comes when a critical bug is discovered days before tape-out—traced back to a missing signal in a sensitivity list. The resolution shows the team adopting <code>@(*)</code> and better coding standards, transforming their chaotic codebase into a maintainable design that launches successfully.</p>
</details>
<h2 id="practice-problems">Practice Problems</h2>
<p>Test your understanding with these exercises:</p>
<details class="question">
<summary>Problem 1: Sensitivity List Debugging</summary>
<p>What's wrong with this code, and how would you fix it?
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">c</span><span class="p">;</span>
<span class="k">end</span>
</code></pre></div></td></tr></table></div></p>
<p><strong>Solution:</strong>
The sensitivity list only includes <code>a</code>, but the block also reads <code>b</code> and <code>c</code>. In simulation, <code>y</code> won't update when <code>b</code> or <code>c</code> changes. Fix:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">c</span><span class="p">;</span>
<span class="k">end</span>
</code></pre></div></td></tr></table></div>
Always use <code>@(*)</code> for combinational logic to automatically include all inputs.</p>
</details>
<details class="question">
<summary>Problem 2: Blocking vs Non-Blocking</summary>
<p>What values will <code>a</code> and <code>b</code> have after the clock edge if they both start at 0 and <code>x=5</code>, <code>y=3</code>?</p>
<p>Version A:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="k">posedge</span><span class="w"> </span><span class="n">clk</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<span class="w">    </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">y</span><span class="p">;</span>
<span class="k">end</span>
</code></pre></div></td></tr></table></div></p>
<p>Version B:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="k">posedge</span><span class="w"> </span><span class="n">clk</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<span class="w">    </span><span class="n">b</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">y</span><span class="p">;</span>
<span class="k">end</span>
</code></pre></div></td></tr></table></div></p>
<p><strong>Solution:</strong>
- Version A (blocking): <code>a=5</code>, <code>b=8</code> (5+3). Blocking means <code>b</code> sees the new value of <code>a</code>.
- Version B (non-blocking): <code>a=5</code>, <code>b=3</code> (0+3). Non-blocking means <code>b</code> sees the old value of <code>a</code>.</p>
<p>Version B is the correct style for sequential logic, but produces different results!</p>
</details>
<details class="question">
<summary>Problem 3: Latch Detection</summary>
<p>Will this code create a latch? If so, fix it.
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">sel</span><span class="p">)</span>
<span class="w">        </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">mode</span><span class="p">)</span>
<span class="w">        </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="k">end</span>
</code></pre></div></td></tr></table></div></p>
<p><strong>Solution:</strong>
Yes, this creates a latch! When <code>sel=0</code> AND <code>mode=0</code>, <code>y</code> is not assigned, so it must retain its old value (latch behavior).</p>
<p>Fix:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">sel</span><span class="p">)</span>
<span class="w">        </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">mode</span><span class="p">)</span>
<span class="w">        </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">1</span><span class="mb">&#39;b0</span><span class="p">;</span><span class="w">  </span><span class="c1">// Default case</span>
<span class="k">end</span>
</code></pre></div></td></tr></table></div></p>
</details>
<details class="question">
<summary>Problem 4: Case Statement Design</summary>
<p>Write a Verilog module for a 3-to-8 decoder using a case statement. The output should have exactly one bit high based on the 3-bit input.</p>
<p><strong>Solution:</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">module</span><span class="w"> </span><span class="n">decoder_3to8</span><span class="p">(</span>
<span class="w">    </span><span class="k">input</span><span class="w">      </span><span class="p">[</span><span class="mh">2</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">sel</span><span class="p">,</span>
<span class="w">    </span><span class="k">output</span><span class="w"> </span><span class="kt">reg</span><span class="w"> </span><span class="p">[</span><span class="mh">7</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">out</span>
<span class="p">);</span>

<span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="p">(</span><span class="n">sel</span><span class="p">)</span>
<span class="w">        </span><span class="mh">3</span><span class="mb">&#39;b000</span><span class="o">:</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">8</span><span class="mb">&#39;b00000001</span><span class="p">;</span>
<span class="w">        </span><span class="mh">3</span><span class="mb">&#39;b001</span><span class="o">:</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">8</span><span class="mb">&#39;b00000010</span><span class="p">;</span>
<span class="w">        </span><span class="mh">3</span><span class="mb">&#39;b010</span><span class="o">:</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">8</span><span class="mb">&#39;b00000100</span><span class="p">;</span>
<span class="w">        </span><span class="mh">3</span><span class="mb">&#39;b011</span><span class="o">:</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">8</span><span class="mb">&#39;b00001000</span><span class="p">;</span>
<span class="w">        </span><span class="mh">3</span><span class="mb">&#39;b100</span><span class="o">:</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">8</span><span class="mb">&#39;b00010000</span><span class="p">;</span>
<span class="w">        </span><span class="mh">3</span><span class="mb">&#39;b101</span><span class="o">:</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">8</span><span class="mb">&#39;b00100000</span><span class="p">;</span>
<span class="w">        </span><span class="mh">3</span><span class="mb">&#39;b110</span><span class="o">:</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">8</span><span class="mb">&#39;b01000000</span><span class="p">;</span>
<span class="w">        </span><span class="mh">3</span><span class="mb">&#39;b111</span><span class="o">:</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">8</span><span class="mb">&#39;b10000000</span><span class="p">;</span>
<span class="w">        </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">8</span><span class="mb">&#39;b00000000</span><span class="p">;</span>
<span class="w">    </span><span class="k">endcase</span>
<span class="k">end</span>

<span class="k">endmodule</span>
</code></pre></div></td></tr></table></div></p>
</details>
<details class="question">
<summary>Problem 5: Edge Type Selection</summary>
<p>For each scenario, choose the appropriate sensitivity list:</p>
<p>A) A flip-flop that captures data on rising clock edge
B) A combinational MUX
C) A flip-flop with asynchronous active-low reset
D) An SR latch (level-sensitive)</p>
<p><strong>Solution:</strong>
- A) <code>@(posedge clk)</code>
- B) <code>@(*)</code>
- C) <code>@(posedge clk or negedge reset_n)</code>
- D) <code>@(s or r)</code> or <code>@(*)</code> — but note: SR latches are generally avoided in synthesis</p>
</details>
<details class="question">
<summary>Problem 6: Structural vs Behavioral</summary>
<p>Write TWO versions of a 2-input XOR gate: one structural (using gates) and one behavioral.</p>
<p><strong>Solution:</strong>
Structural:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">module</span><span class="w"> </span><span class="n">xor_structural</span><span class="p">(</span><span class="k">input</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="k">output</span><span class="w"> </span><span class="n">y</span><span class="p">);</span>
<span class="w">    </span><span class="kt">wire</span><span class="w"> </span><span class="n">nota</span><span class="p">,</span><span class="w"> </span><span class="n">notb</span><span class="p">,</span><span class="w"> </span><span class="n">and1</span><span class="p">,</span><span class="w"> </span><span class="n">and2</span><span class="p">;</span>
<span class="w">    </span><span class="k">not</span><span class="w">  </span><span class="n">g1</span><span class="p">(</span><span class="n">nota</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">);</span>
<span class="w">    </span><span class="k">not</span><span class="w">  </span><span class="n">g2</span><span class="p">(</span><span class="n">notb</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">);</span>
<span class="w">    </span><span class="k">and</span><span class="w">  </span><span class="n">g3</span><span class="p">(</span><span class="n">and1</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">notb</span><span class="p">);</span>
<span class="w">    </span><span class="k">and</span><span class="w">  </span><span class="n">g4</span><span class="p">(</span><span class="n">and2</span><span class="p">,</span><span class="w"> </span><span class="n">nota</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">);</span>
<span class="w">    </span><span class="k">or</span><span class="w">   </span><span class="n">g5</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">and1</span><span class="p">,</span><span class="w"> </span><span class="n">and2</span><span class="p">);</span>
<span class="k">endmodule</span>
</code></pre></div></td></tr></table></div></p>
<p>Behavioral:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">module</span><span class="w"> </span><span class="n">xor_behavioral</span><span class="p">(</span><span class="k">input</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="k">output</span><span class="w"> </span><span class="n">y</span><span class="p">);</span>
<span class="w">    </span><span class="k">assign</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="k">endmodule</span>
</code></pre></div></td></tr></table></div>
Both synthesize to equivalent hardware, but behavioral is much simpler!</p>
</details>
<details class="question">
<summary>Problem 7: Complete Module Design</summary>
<p>Design a 4-bit up/down counter with synchronous load and enable:
- When <code>load=1</code>: Load <code>data_in</code> into counter
- When <code>enable=1</code> and <code>up=1</code>: Count up
- When <code>enable=1</code> and <code>up=0</code>: Count down
- When <code>enable=0</code>: Hold current value</p>
<p><strong>Solution:</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">module</span><span class="w"> </span><span class="n">up_down_counter</span><span class="p">(</span>
<span class="w">    </span><span class="k">input</span><span class="w">        </span><span class="n">clk</span><span class="p">,</span>
<span class="w">    </span><span class="k">input</span><span class="w">        </span><span class="n">reset</span><span class="p">,</span>
<span class="w">    </span><span class="k">input</span><span class="w">        </span><span class="n">load</span><span class="p">,</span>
<span class="w">    </span><span class="k">input</span><span class="w">        </span><span class="n">enable</span><span class="p">,</span>
<span class="w">    </span><span class="k">input</span><span class="w">        </span><span class="n">up</span><span class="p">,</span>
<span class="w">    </span><span class="k">input</span><span class="w">  </span><span class="p">[</span><span class="mh">3</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">data_in</span><span class="p">,</span>
<span class="w">    </span><span class="k">output</span><span class="w"> </span><span class="kt">reg</span><span class="w"> </span><span class="p">[</span><span class="mh">3</span><span class="o">:</span><span class="mh">0</span><span class="p">]</span><span class="w"> </span><span class="n">count</span>
<span class="p">);</span>

<span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="k">posedge</span><span class="w"> </span><span class="n">clk</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">posedge</span><span class="w"> </span><span class="n">reset</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">reset</span><span class="p">)</span>
<span class="w">        </span><span class="n">count</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mh">4</span><span class="mb">&#39;b0</span><span class="p">;</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">load</span><span class="p">)</span>
<span class="w">        </span><span class="n">count</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">data_in</span><span class="p">;</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">enable</span><span class="p">)</span><span class="w"> </span><span class="k">begin</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">up</span><span class="p">)</span>
<span class="w">            </span><span class="n">count</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mh">1</span><span class="p">;</span>
<span class="w">        </span><span class="k">else</span>
<span class="w">            </span><span class="n">count</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mh">1</span><span class="p">;</span>
<span class="w">    </span><span class="k">end</span>
<span class="w">    </span><span class="c1">// else: count holds (implicit in sequential blocks)</span>
<span class="k">end</span>

<span class="k">endmodule</span>
</code></pre></div></td></tr></table></div></p>
</details>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../12-verilog-hdl-fundamentals/quiz/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Quiz">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Quiz
              </div>
            </div>
          </a>
        
        
          
          <a href="quiz/" class="md-footer__link md-footer__link--next" aria-label="Next: Quiz">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Quiz
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "navigation.expand", "navigation.path", "navigation.prune", "navigation.indexes", "toc.follow", "navigation.top", "navigation.footer"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
        <script src="../../js/extra.js"></script>
      
        <script src="../../js/katex.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"></script>
      
    
  </body>
</html>